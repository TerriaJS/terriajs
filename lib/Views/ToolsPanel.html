<div class="modal-background" data-bind="click: closeIfClickOnBackground">
    <div class="tools-panel">
        <div class="tools-header">
            <div class="tools-close-button" data-bind="click: close">&times;</div>
            <h1>Advanced Tools</h1>
        </div>
        <div class="tools-content">
            <form class="tools-form" data-bind="submit: cacheTiles">
                <h2>Dataset Testing</h2>
                <label class="tools-content-type">
                    Select the datasets to test:
                    <select class="tools-content-type-select" data-bind="value: cacheFilter">
                        <option value="opened">All Opened</option>
                        <option value="enabled">All Enabled</option>
                        <option value="all">All</option>
                    </select>
                </label>

                Measure speed of tiles in zoom range:
                <div class="tools-url-input-outer-holder">
                    <div class="tools-url-input-inner-holder">
                        <input class="tools-number-input" type="number" data-bind="value: minZoomLevel" />
                        &nbsp;to&nbsp;
                        <input class="tools-number-input" type="number" data-bind="value: maxZoomLevel" />
                    </div>
                    <input class="tools-url-add-button" type="submit" value="Request Tiles" />
                </div>
                <div>
                    <label class="tools-content-type">
                        <input type="checkbox" data-bind="checked: useWmsTileCache" />
                        Use WMS tile cache
                    </label>
                    <label class="tools-content-type">
                        <input type="checkbox" data-bind="checked: useProxyCache" />
                        Use proxy cache
                    </label>
                    <!-- ko if: useProxyCache -->
                    <label class="tools-content-type">
                        <input type="checkbox" data-bind="checked: purgeProxyCache" />
                        Purge proxy cache
                    </label>
                    <!-- /ko -->
                </div>

            </form>

            <form class="tools-form" data-bind="submit: exportFile">
                <h2>Download Data Menu to File</h2>
                <div class="tools-url-input-outer-holder">
                    <input class="tools-url-add-button" type="submit" value="Download to File" />
                </div>
            </form>

            <form class="tools-form" data-bind="submit: exportCkan">
                <h2>Export Data Menu to CKAN</h2>
                <label class="tools-content-type">
                    Select the dataset layers to export:
                    <select class="tools-content-type-select" data-bind="value: ckanFilter">
                        <option value="opened">All Opened</option>
                        <option value="enabled">All Enabled</option>
                        <option value="all">All</option>
                    </select>
                </label>

                Enter the url of a ckan server
                <div class="tools-url-input-outer-holder">
                    <div class="tools-url-input-inner-holder">
                        <input class="tools-url-input" type="text" data-bind="value: ckanUrl" />
                    </div>
                </div>

                Enter the api key to the ckan server
                <div class="tools-url-input-outer-holder">
                    <div class="tools-url-input-inner-holder">
                        <input class="tools-url-input" type="text" data-bind="value: ckanApiKey" />
                    </div>
                    <input class="tools-url-add-button" type="submit" value="Export to CKAN" />
                </div>
            </form>
            <form class="tools-form" data-bind="submit: cacheAbsData">
                <h2>Cache selected ABS datasets</h2>
                <label class="tools-content-type">
                    Select the ABS data layers to cache:
                    <select class="tools-content-type-select" data-bind="value: absFilter">
                        <option value="opened">All Opened</option>
                        <option value="enabled">All Enabled</option>
                        <option value="all">All</option>
                    </select>
                </label>
                <div class="tools-url-input-outer-holder">
                    <input class="tools-url-add-button" type="submit" value="Cache Datasets" />
                </div>
            </form>
            <form class="tools-form" data-bind="submit: countDatasets">
                <h2>Count Data Sets</h2>
                <label class="tools-content-type">
                    <input class="tools-content-type-select" type="submit" value="Count" />
                </label>
            </form>

            <form class="tools-form" data-bind="submit: openAllInOpenGroups">
                <h2>Open all items in open groups</h2>
                <label class="tools-content-type">
                    <input class="tools-content-type-select" type="submit" value="Open All" />
                </label>
            </form>
        </div>
    </div>
</div>
