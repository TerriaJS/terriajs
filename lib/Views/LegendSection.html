<div data-bind="foreach: proxiedLegendUrls || []">
    <!-- ko if: $data.isImage -->
    <!-- ko if: $data.insertDirectly -->
    <div class="now-viewing-legend-image" data-bind="event: { error : $data.onImageError }, visible: !$data.imageHasError, html: $data.safeSvgContent "/>
    </div>
    <!-- /ko -->
    <!-- ko if: !$data.insertDirectly -->
    <a data-bind="attr: { href: $data.url , tabindex: $root.nowViewingTab.isActive ? 0 : -1 }" target="_blank">
        <div class="now-viewing-legend-image">
            <img class="now-viewing-legend-image-background"
                 data-bind="event: { error : $data.onImageError }, attr: { src: $data.url }, visible: !$data.imageHasError"/>
        </div>
    </a>
    <!-- /ko -->
    <!-- /ko -->

    <!-- ko if: !$data.isImage -->
    <a class="now-viewing-legend-text" data-bind="attr: { href: $data.url }" target="_blank">Open legend in a separate
        tab</a>
    <!-- /ko -->
</div>

<div data-bind="if: !proxiedLegendUrls || proxiedLegendUrls.length === 0">
    <!-- ko if: catalogMember.type !== 'abs-itt' -->
    <div class="now-viewing-legend-text">No legend available for this data item.</div>
    <!-- /ko -->
    <!-- ko if: catalogMember.type === 'abs-itt' -->
    <div class="now-viewing-legend-text">Select at least one code in each data area.</div>
    <!-- /ko -->
</div>
